{% extends "layouts/default.njk" %}

{% block bodyClass %}page-home{% endblock %}

{% block content %}
{% for block in page.content.blocks %}
  {% if block.type == 'hero' %}
    <section class="hero-section">
      <div class="hero-background">
        {% if block.data.image %}
          <img src="{{ block.data.image }}" alt="" class="hero-bg-image">
        {% endif %}
        <div class="hero-overlay"></div>
      </div>
      <div class="container">
        <div class="hero-content">
          <h1 class="hero-title">{{ block.data.title }}</h1>
          <p class="hero-subtitle">{{ block.data.subtitle }}</p>
          <div class="hero-buttons">
            {% if block.data.cta %}
              <a href="{{ block.data.cta.url }}" class="btn btn-primary btn-lg">
                {{ block.data.cta.text }}
              </a>
            {% endif %}
            {% if block.data.secondaryCta %}
              <a href="{{ block.data.secondaryCta.url }}" class="btn btn-outline btn-lg">
                {{ block.data.secondaryCta.text }}
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    </section>

  {% elif block.type == 'features' %}
    <section class="features-section">
      <div class="container">
        <h2 class="section-title">{{ block.data.title }}</h2>
        <div class="features-grid">
          {% for item in block.data.items %}
            <div class="feature-card">
              <div class="feature-icon">
                {% if item.icon == 'code' %}
                  <svg viewBox="0 0 24 24"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>
                {% elif item.icon == 'rocket' %}
                  <svg viewBox="0 0 24 24"><path d="M12 2.5s4.5 2 4.5 7.5-4.5 11.5-4.5 11.5S7.5 15 7.5 10 12 2.5 12 2.5zM12 12a2 2 0 100-4 2 2 0 000 4zM3.5 18.5L6 16l1.5 1.5-2.5 2.5-1.5-1.5zM18.5 20.5L16 18l1.5-1.5 2.5 2.5-1.5 1.5z"/></svg>
                {% elif item.icon == 'shield' %}
                  <svg viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
                {% elif item.icon == 'users' %}
                  <svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                {% else %}
                  <svg viewBox="0 0 24 24"><path d="M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7a2.5 2.5 0 010-5 2.5 2.5 0 010 5zM3 21.5h8v-8H3v8zm2-6h4v4H5v-4z"/></svg>
                {% endif %}
              </div>
              <h3 class="feature-title">{{ item.title }}</h3>
              <p class="feature-desc">{{ item.description }}</p>
            </div>
          {% endfor %}
        </div>
      </div>
    </section>

  {% elif block.type == 'services' %}
    <section class="services-section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">{{ block.data.title }}</h2>
          {% if block.data.subtitle %}
            <p class="section-subtitle">{{ block.data.subtitle }}</p>
          {% endif %}
        </div>
        <div class="services-grid">
          {% for item in block.data.items %}
            <div class="service-card">
              {% if item.image %}
                <div class="service-image">
                  <img src="{{ item.image }}" alt="{{ item.title }}">
                </div>
              {% endif %}
              <div class="service-content">
                <h3 class="service-title">{{ item.title }}</h3>
                <p class="service-desc">{{ item.description }}</p>
                {% if item.link %}
                  <a href="{{ item.link }}" class="service-link">Learn more â†’</a>
                {% endif %}
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </section>

  {% elif block.type == 'cta' %}
    <section class="cta-section">
      <div class="container">
        <div class="cta-content">
          <h2 class="cta-title">{{ block.data.title }}</h2>
          <p class="cta-desc">{{ block.data.description }}</p>
          <a href="{{ block.data.buttonUrl }}" class="btn btn-primary btn-lg">
            {{ block.data.buttonText }}
          </a>
        </div>
      </div>
    </section>
  {% endif %}
{% endfor %}
{% endblock %}
